# TinyProxy 配置文件 - 用于OpenClaw国内服务器访问外网
# 服务器：美国VPS
# 允许的客户端：81.70.79.133 (OpenClaw服务器)
# 端口：18789 (与Gateway端口一致)

# 监听端口（使用OpenClaw Gateway端口）
Port 18789

# 监听所有网卡（允许外网访问）
Listen 0.0.0.0

# 超时设置（秒）
Timeout 600

# 日志设置
LogLevel Info
LogFile /var/log/tinyproxy/tinyproxy.log

# 最大客户端连接数
MaxClients 100

# 最小/最大空闲服务器数
MinSpareServers 5
MaxSpareServers 20

# 启动时的服务器数
StartServers 10

# 每个子进程处理的最大请求数（0=无限）
MaxRequestsPerChild 0

# ============ 关键：白名单设置 ============
# 允许OpenClaw服务器访问
Allow 81.70.79.133

# 禁止其他所有IP（默认行为，不需要显式写）
# Deny 0.0.0.0/0
