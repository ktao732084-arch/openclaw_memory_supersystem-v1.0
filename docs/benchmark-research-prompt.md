# DeepResearch Prompt: AI Memory System Benchmarks

## 研究目标

深度调研以下 4 个 AI 长期记忆评测集的技术要求、评测标准和实现细节，为我们的记忆系统（Memory System v1.2.x）提供明确的优化方向。

---

## 评测集列表

1. **LoCoMo** (Long-term Conversational Memory)
2. **LongMemEval** (Long-term Memory Evaluation)
3. **HaluMem** (Hallucination Memory Detection)
4. **PersonaMem v2** (Persona Memory Benchmark v2)

---

## 研究维度

### 1. 评测集基本信息
- **发布时间**：哪一年发布？最新版本是什么？
- **发布机构**：哪个大学/公司/研究团队？
- **论文链接**：arXiv 或会议论文链接
- **代码仓库**：GitHub 链接（如果开源）
- **数据集规模**：多少条测试样本？多少轮对话？

### 2. 核心评测指标
- **主要指标**：Accuracy? F1? Recall? 自定义指标？
- **评分方式**：人工评估 vs 自动评估？
- **通过标准**：什么分数算"及格"？SOTA 是多少？
- **排行榜**：是否有公开的 Leaderboard？

### 3. 技术要求（关键！）

#### 3.1 记忆容量
- **最小记忆数量**：评测集要求系统至少能存储多少条记忆？
- **最大记忆数量**：压测场景下会达到多少条？
- **时间跨度**：记忆需要保持多久？（天/周/月/年）

#### 3.2 查询性能
- **查询延迟**：P50/P95/P99 延迟要求是多少？
- **并发要求**：是否有并发查询测试？QPS 要求？
- **检索准确性**：Top-K 召回率要求？

#### 3.3 记忆类型
- **事实记忆**（Facts）：是否需要？占比多少？
- **推断记忆**（Beliefs）：是否需要？如何评估置信度？
- **摘要记忆**（Summaries）：是否需要？如何生成？
- **实体关系**：是否需要知识图谱？关系三元组？

#### 3.4 衰减机制
- **是否测试衰减**：评测集是否考察记忆随时间衰减？
- **衰减公式**：是否有推荐的衰减算法？
- **时间跳跃**：是否需要模拟"三个月不使用"场景？

#### 3.5 冲突处理
- **冲突检测**：是否测试矛盾信息的处理？
- **更新策略**：旧记忆如何被新记忆覆盖？
- **置信度管理**：如何处理不确定的信息？

#### 3.6 多跳推理
- **推理深度**：是否需要多跳推理？最多几跳？
- **关系链**：是否需要实体关系链？
- **图查询**：是否需要图数据库？

### 4. 输入输出格式

#### 4.1 输入格式
- **对话历史**：JSON? JSONL? 纯文本？
- **记忆注入**：如何将记忆注入到系统？
- **查询格式**：自然语言查询 vs 结构化查询？

#### 4.2 输出格式
- **检索结果**：需要返回什么？（记忆内容/ID/分数/来源）
- **置信度**：是否需要返回置信度？
- **解释性**：是否需要解释为什么检索到这条记忆？

### 5. 评测流程

#### 5.1 数据准备
- **如何获取数据集**：公开下载 vs 申请权限？
- **数据格式**：原始格式是什么？需要预处理吗？
- **标注信息**：是否有 Ground Truth？

#### 5.2 评测步骤
1. 初始化系统
2. 注入记忆
3. 执行查询
4. 计算指标
5. 生成报告

#### 5.3 提交方式
- **如何提交结果**：上传到网站 vs 发邮件 vs GitHub PR？
- **结果格式**：JSON? CSV? 自定义格式？
- **是否需要代码**：是否需要开源代码？

### 6. 竞品分析

#### 6.1 SOTA 系统
- **当前 SOTA**：哪个系统在这个评测集上表现最好？
- **SOTA 分数**：具体分数是多少？
- **SOTA 架构**：他们用了什么技术？（向量数据库/图数据库/混合）

#### 6.2 常见方案
- **主流架构**：大部分系统用什么架构？
- **常见问题**：大部分系统在哪里失分？
- **优化方向**：有哪些已知的优化技巧？

### 7. 我们的差距

#### 7.1 当前能力
我们的记忆系统（Memory System v1.2.4）：
- 三层架构：Layer 1 (快照) + Layer 2 (长期记忆) + Layer 3 (原始日志)
- 记忆类型：Facts / Beliefs / Summaries
- 衰减机制：每日 Consolidation，基于重要性的衰减率
- 存储后端：JSONL（v1.2.4 引入 SQLite）
- 检索方式：关键词 + 实体 + 时间线索引
- 当前规模：~100 条记忆

#### 7.2 需要补齐的能力
基于评测集要求，列出我们需要补齐的能力：
- [ ] 能力 1：xxx
- [ ] 能力 2：xxx
- [ ] 能力 3：xxx

#### 7.3 优先级排序
按照"投入产出比"排序，哪些能力应该优先实现？

---

## 输出格式要求

### 对于每个评测集，请输出：

```markdown
## [评测集名称]

### 基本信息
- 发布时间：
- 发布机构：
- 论文链接：
- 代码仓库：
- 数据集规模：

### 核心指标
- 主要指标：
- 评分方式：
- 通过标准：
- SOTA 分数：

### 技术要求
#### 记忆容量
- 最小/最大记忆数量：
- 时间跨度：

#### 查询性能
- 延迟要求：
- 并发要求：
- 检索准确性：

#### 记忆类型
- Facts：
- Beliefs：
- Summaries：
- 实体关系：

#### 衰减机制
- 是否测试衰减：
- 衰减公式：
- 时间跳跃：

#### 冲突处理
- 冲突检测：
- 更新策略：
- 置信度管理：

#### 多跳推理
- 推理深度：
- 关系链：
- 图查询：

### 输入输出格式
- 输入格式：
- 输出格式：

### 评测流程
- 数据获取：
- 评测步骤：
- 提交方式：

### 竞品分析
- SOTA 系统：
- SOTA 架构：
- 常见问题：

### 我们的差距
- 需要补齐的能力：
- 优先级排序：
```

---

## 最终输出

请生成一份完整的调研报告，包含：

1. **执行摘要**（1 页）
   - 4 个评测集的核心要求对比表
   - 我们当前能力 vs 评测集要求的差距分析
   - Top 5 优先级最高的改进方向

2. **详细报告**（每个评测集 2-3 页）
   - 按照上述模板，逐个评测集详细分析

3. **实施路线图**（1 页）
   - Phase 1: 基础能力补齐（必须）
   - Phase 2: 性能优化（重要）
   - Phase 3: 高级特性（可选）
   - 每个 Phase 的预计工作量（小时）

4. **参考资料**
   - 所有论文链接
   - 所有代码仓库链接
   - 相关博客/教程链接

---

## 研究重点

请特别关注：

1. **LoCoMo**：这是最知名的长期对话记忆评测集，重点关注其对话轮数、记忆容量、时间跨度的要求
2. **HaluMem**：重点关注其冲突检测和置信度管理的评测方法
3. **PersonaMem v2**：重点关注其实体关系和多跳推理的要求
4. **LongMemEval**：重点关注其衰减机制和时间跳跃的测试方法

---

## 时间要求

请在 **30 分钟内** 完成初步调研，输出执行摘要和关键发现。

完整报告可以在 **2 小时内** 完成。

---

**调研目标**：为 Memory System v1.3.0 的开发提供明确的技术路线图，确保我们的系统能够通过至少 2 个评测集的测试。
